
  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://10.0.0.104:8501

  For better performance, install the Watchdog module:

  $ xcode-select --install
  $ pip install watchdog
            
/Users/aly/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
WARNING:root:NPM: .env not found at /Users/aly/Desktop/spaces_ai/interior-designer/.env for re-load attempt.
/Users/aly/Library/Python/3.9/lib/python/site-packages/open_clip/factory.py:388: UserWarning: These pretrained weights were trained with QuickGELU activation but the model config does not have that enabled. Consider using a model config with a "-quickgelu" suffix or enable with a flag.
  warnings.warn(
WARNING:vision_features:Failed to parse GPT-4V JSON. Using the raw response as the caption.

============================================================
🚀 STARTING OBJECT DETECTION
📁 Backend: COMBINED
📸 Image: ChatGPT Image Apr 11, 2025, 10_36_17 PM.png
============================================================
💾 Saving uploaded image to: temp_uploaded_image.jpg
✅ Image saved successfully
🔧 Initializing object detector...
✅ Detector initialized, starting detection...
🔍 ObjectDetector: Starting detection with combined backend
📁 Processing image: temp_uploaded_image.jpg
🔧 Using COMBINED detection (YOLOv8 + Mask2Former)...
🌐 Mask2Former: Starting API detection...
📁 Loading and preparing image...
✅ Image converted to base64 format
🌐 Calling Mask2Former API via Replicate...
📦 Processing API response...
🎯 API returned 28 object classes
🔧 Parsing segmentation masks...
✅ Combined detection completed
🎯 DETECTION COMPLETE! Found 45 objects
📝 Objects detected:
   1. refrigerator (confidence: 1.00, source: mask2former)
   2. vase (confidence: 1.00, source: mask2former)
   3. tv (confidence: 0.94, source: yolov8)
   4. table (confidence: 1.00, source: mask2former)
   5. chair (confidence: 1.00, source: mask2former)
   6. potted plant (confidence: 0.83, source: yolov8)
   7. chair (confidence: 0.82, source: yolov8)
   8. vase (confidence: 0.80, source: yolov8)
   9. bowl (confidence: 0.78, source: yolov8)
   10. sofa (confidence: 1.00, source: mask2former)
   11. vase (confidence: 0.75, source: yolov8)
   12. potted plant (confidence: 0.72, source: yolov8)
   13. potted plant (confidence: 0.71, source: yolov8)
   14. bowl (confidence: 0.67, source: yolov8)
   15. couch (confidence: 0.37, source: yolov8)
   16. vase (confidence: 0.36, source: yolov8)
   17. bowl (confidence: 0.27, source: yolov8)
   18. vase (confidence: 0.26, source: yolov8)
   19. vase (confidence: 0.26, source: yolov8)
   20. book (confidence: 1.00, source: mask2former)
   21. wall (confidence: 0.65, source: geometric_analysis)
   22. wall (confidence: 0.66, source: geometric_analysis)
   23. wall (confidence: 0.50, source: geometric_analysis)
   24. wall (confidence: 0.50, source: geometric_analysis)
   25. floor (confidence: 0.75, source: geometric_analysis)
   26. wall (confidence: 1.00, source: mask2former)
   27. floor (confidence: 1.00, source: mask2former)
   28. ceiling (confidence: 1.00, source: mask2former)
   29. cabinet (confidence: 1.00, source: mask2former)
   30. door (confidence: 1.00, source: mask2former)
   31. plant (confidence: 1.00, source: mask2former)
   32. mirror (confidence: 1.00, source: mask2former)
   33. rug (confidence: 1.00, source: mask2former)
   34. lamp (confidence: 1.00, source: mask2former)
   35. cushion (confidence: 1.00, source: mask2former)
   36. box (confidence: 1.00, source: mask2former)
   37. signboard (confidence: 1.00, source: mask2former)
   38. coffee (confidence: 1.00, source: mask2former)
   39. flower (confidence: 1.00, source: mask2former)
   40. television (confidence: 1.00, source: mask2former)
   41. bottle (confidence: 1.00, source: mask2former)
   42. pot (confidence: 1.00, source: mask2former)
   43. blanket (confidence: 1.00, source: mask2former)
   44. tray (confidence: 1.00, source: mask2former)
   45. plate (confidence: 1.00, source: mask2former)
✅ Results stored in session state
🔄 Refreshing UI...
🏁 Detection process finished
============================================================

🔍 Component returned data: <class 'streamlit.delta_generator.DeltaGenerator'>
📊 Raw selected_data: DeltaGenerator(_provided_cursor=LockedCursor(_index=6, _parent_path=(), _props={'delta_type': 'iframe', 'add_rows_metadata': None}), _parent=DeltaGenerator(), _form_data=FormData(form_id=''))
🔧 Auto-selecting furniture items...
✅ Auto-selected 34 items
⚠️ No selection data received from component
📊 UI State - Selected objects: 34
✅ Showing Find Products button...
🔍 Component returned data: <class 'streamlit.delta_generator.DeltaGenerator'>
📊 Raw selected_data: DeltaGenerator(_provided_cursor=LockedCursor(_index=6, _parent_path=(), _props={'delta_type': 'iframe', 'add_rows_metadata': None}), _parent=DeltaGenerator(), _form_data=FormData(form_id=''))
⚠️ No selection data received from component
📊 UI State - Selected objects: 34
✅ Showing Find Products button...

============================================================
🛒 STARTING PRODUCT SEARCH
📦 Selected objects: 34
============================================================
🔧 Step 1: Processing objects (cropping & feature extraction)...
📊 Selected objects breakdown:
   - blanket: 1
   - book: 1
   - bottle: 1
   - bowl: 3
   - cabinet: 1
   - chair: 2
   - coffee: 1
   - couch: 1
   - cushion: 1
   - flower: 1
   - lamp: 1
   - mirror: 1
   - plant: 1
   - plate: 1
   - pot: 1
   - potted plant: 3
   - refrigerator: 1
   - rug: 1
   - sofa: 1
   - table: 1
   - television: 1
   - tray: 1
   - tv: 1
   - vase: 6
🔧 crop_and_save_selected_objects called with auto_search=True
📊 Image available: True, Selected objects: 34
📁 Output directory: output/crops
🎨 Generating caption for object 0: refrigerator
✅ Caption generated: A modern stainless steel French door refrigerator ...
🔧 Extracting CLIP embedding for refrigerator...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 1: vase
✅ Caption generated: A rustic ceramic vase with a blue and earthy-toned...
🔧 Extracting CLIP embedding for vase...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 2: tv
✅ Caption generated: A contemporary black flat-screen television with a...
🔧 Extracting CLIP embedding for tv...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 3: table
✅ Caption generated: A contemporary dark brown wooden dining table with...
🔧 Extracting CLIP embedding for table...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 4: chair
✅ Caption generated: A rustic wooden dining set featuring a round dark ...
🔧 Extracting CLIP embedding for chair...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 5: potted plant
✅ Caption generated: A contemporary decorative plant with lush green pl...
🔧 Extracting CLIP embedding for potted plant...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 6: chair
✅ Caption generated: A contemporary dining chair with a dark brown wood...
🔧 Extracting CLIP embedding for chair...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 7: vase
✅ Caption generated: A rustic clay pitcher with an earthy brown finish,...
🔧 Extracting CLIP embedding for vase...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 8: bowl
✅ Caption generated: A modern light brown wooden bowl with a smooth fin...
🔧 Extracting CLIP embedding for bowl...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 9: sofa
✅ Caption generated: A contemporary beige fabric sofa with teal accent ...
🔧 Extracting CLIP embedding for sofa...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 10: vase
✅ Caption generated: A rustic ceramic vase with an earthy brown texture...
🔧 Extracting CLIP embedding for vase...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 11: potted plant
✅ Caption generated: I'm sorry, but I can't analyze the furniture piece...
🔧 Extracting CLIP embedding for potted plant...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 12: potted plant
✅ Caption generated: A rustic ceramic vase in blue with earthy tones, f...
🔧 Extracting CLIP embedding for potted plant...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 13: bowl
✅ Caption generated: A rustic wooden bowl with a natural brown finish, ...
🔧 Extracting CLIP embedding for bowl...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 14: couch
✅ Caption generated: A contemporary beige fabric sofa with teal geometr...
WARNING:vision_features:Failed to parse GPT-4V JSON. Using the raw response as the caption.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
🔧 Extracting CLIP embedding for couch...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 15: vase
✅ Caption generated: A rustic, earthy brown clay pot with a rounded bod...
🔧 Extracting CLIP embedding for vase...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 16: bowl
✅ Caption generated: I'm sorry, I can't analyze the furniture piece fro...
🔧 Extracting CLIP embedding for bowl...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 17: vase
✅ Caption generated: A contemporary bohemian-style woven rattan lamp wi...
🔧 Extracting CLIP embedding for vase...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 18: vase
✅ Caption generated: A rustic wooden table with a rich brown finish, fe...
🔧 Extracting CLIP embedding for vase...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 19: book
✅ Caption generated: A contemporary wooden coffee table with a light br...
🔧 Extracting CLIP embedding for book...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 20: cabinet
✅ Caption generated: A contemporary light brown wooden media console wi...
🔧 Extracting CLIP embedding for cabinet...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 21: plant
✅ Caption generated: A contemporary ceramic vase in earthy brown, featu...
🔧 Extracting CLIP embedding for plant...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 22: mirror
✅ Caption generated: A traditional oval wall mirror with a dark brown w...
🔧 Extracting CLIP embedding for mirror...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 23: rug
✅ Caption generated: A contemporary bohemian round rattan coffee table ...
🔧 Extracting CLIP embedding for rug...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 24: lamp
✅ Caption generated: A contemporary bohemian table lamp with a natural ...
🔧 Extracting CLIP embedding for lamp...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 25: cushion
✅ Caption generated: A contemporary beige sofa with a geometric teal an...
🔧 Extracting CLIP embedding for cushion...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 26: coffee
✅ Caption generated: A contemporary bohemian round coffee table made of...
🔧 Extracting CLIP embedding for coffee...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 27: flower
✅ Caption generated: A contemporary brown ceramic vase with a textured ...
🔧 Extracting CLIP embedding for flower...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 28: television
✅ Caption generated: A contemporary black flat-screen television with a...
🔧 Extracting CLIP embedding for television...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 29: bottle
✅ Caption generated: A rustic contemporary table crafted from warm brow...
🔧 Extracting CLIP embedding for bottle...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 30: pot
✅ Caption generated: A rustic wooden furniture piece with a brown finis...
🔧 Extracting CLIP embedding for pot...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 31: blanket
✅ Caption generated: A contemporary beige fabric sofa with a textured t...
🔧 Extracting CLIP embedding for blanket...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 32: tray
✅ Caption generated: A rustic wooden bowl with a natural brown finish, ...
🔧 Extracting CLIP embedding for tray...
✅ CLIP embedding extracted successfully
🎨 Generating caption for object 33: plate
✅ Caption generated: A contemporary wooden bowl with a warm brown finis...
🔧 Extracting CLIP embedding for plate...
✅ CLIP embedding extracted successfully
✅ Processed 34 objects successfully
🏠 Analyzing room context for enhanced recommendations...
🔧 Step 2: Initializing product search...
🔍 Using HYBRID search (visual + text)
🔧 Step 3: Running enhanced search pipeline...
🔧 Enhanced Search Pipeline: Starting for 34 objects
📊 Search method: hybrid, Caching: True
🔍 Processing object 1/34: refrigerator
📝 Generated query: 'modern stainless steel brushed silver refrigerator...')
🛒 SerpAPI: Starting product search for query: 'A modern stainless steel French door refrigerator with a brushed silver finish and sleek handles, ideal for contemporary kitchens.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 2/34: vase
📝 Generated query: 'rustic ceramic blue with earthy tones vase...')
🛒 SerpAPI: Starting product search for query: 'A rustic ceramic vase with a blue and earthy-toned textured finish, featuring two side handles and a wide mouth, perfect for adding a natural touch to any decor.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 3/34: tv
📝 Generated query: 'contemporary modern metal and glass black tv...')
🛒 SerpAPI: Starting product search for query: 'A contemporary black flat-screen television with a sleek metal frame and glass screen, ideal for modern living rooms.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 4/34: table
📝 Generated query: 'contemporary modern solid wood dark brown table...')
🛒 SerpAPI: Starting product search for query: 'A contemporary dark brown wooden dining table with matching chairs, featuring a round tabletop and simple, sturdy legs.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 5/34: chair
📝 Generated query: 'rustic solid wood dark brown chair...')
🛒 SerpAPI: Starting product search for query: 'A rustic wooden dining set featuring a round dark brown table and ladder-back chairs with woven seats, perfect for a cozy kitchen or dining area.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 6/34: potted plant
⏸️ Pausing briefly after 5 objects to avoid rate limiting...
📝 Generated query: 'contemporary modern ceramic and plastic green and brown pott...')
🛒 SerpAPI: Starting product search for query: 'A contemporary decorative plant with lush green plastic leaves in a brown ceramic pot, ideal for modern interior spaces.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 7/34: chair
📝 Generated query: 'contemporary modern wood and fabric dark brown and beige cha...')
🛒 SerpAPI: Starting product search for query: 'A contemporary dining chair with a dark brown wooden frame and beige fabric seat, featuring a minimalist design and curved backrest.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 8/34: vase
📝 Generated query: 'rustic clay earthy brown vase...')
🛒 SerpAPI: Starting product search for query: 'A rustic clay pitcher with an earthy brown finish, featuring a classic rounded body and a single handle.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 9/34: bowl
📝 Generated query: 'modern solid wood light brown bowl...')
🛒 SerpAPI: Starting product search for query: 'A modern light brown wooden bowl with a smooth finish and minimalist design, ideal for contemporary decor.'
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 10/34: sofa
📝 Generated query: 'contemporary modern fabric upholstery beige and teal sofa...')
🛒 SerpAPI: Starting product search for query: 'A contemporary beige fabric sofa with teal accent pillows, featuring a clean and modern design suitable for a stylish living room.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 11/34: vase
⏸️ Pausing briefly after 10 objects to avoid rate limiting...
📝 Generated query: 'rustic ceramic earthy brown with green accents vase...')
🛒 SerpAPI: Starting product search for query: 'A rustic ceramic vase with an earthy brown texture and green leaf accents, perfect for adding a natural touch to modern interiors.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 12/34: potted plant
📝 Generated query: 'I'm sorry, but I can't analyze the furniture piece from the ...')
🛒 SerpAPI: Starting product search for query: 'I'm sorry, but I can't analyze the furniture piece from the image provided.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 13/34: potted plant
📝 Generated query: 'rustic ceramic blue with earthy tones potted plant...')
🛒 SerpAPI: Starting product search for query: 'A rustic ceramic vase in blue with earthy tones, featuring two handles and filled with green foliage, perfect for adding a natural touch to any room.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 14/34: bowl
📝 Generated query: 'rustic solid wood natural brown bowl...')
🛒 SerpAPI: Starting product search for query: 'A rustic wooden bowl with a natural brown finish, showcasing a handcrafted aesthetic and organic shape.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 15/34: couch
📝 Generated query: 'contemporary modern fabric upholstery beige and teal couch...')
🛒 SerpAPI: Starting product search for query: 'A contemporary beige fabric sofa with teal geometric patterned cushions, ideal for modern living spaces.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 16/34: vase
⏸️ Pausing briefly after 15 objects to avoid rate limiting...
📝 Generated query: 'rustic clay earthy brown vase...')
🛒 SerpAPI: Starting product search for query: 'A rustic, earthy brown clay pot with a rounded body and textured surface, ideal for adding a natural touch to modern interiors.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 17/34: bowl
📝 Generated query: 'I'm sorry, I can't analyze the furniture piece from the imag...')
🛒 SerpAPI: Starting product search for query: 'I'm sorry, I can't analyze the furniture piece from the image provided.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 18/34: vase
📝 Generated query: 'bohemian woven rattan natural beige vase...')
🛒 SerpAPI: Starting product search for query: 'A contemporary bohemian-style woven rattan lamp with a natural beige finish, featuring an intricate open-weave design.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 19/34: vase
📝 Generated query: 'rustic solid wood brown vase...')
🛒 SerpAPI: Starting product search for query: 'A rustic wooden table with a rich brown finish, featuring a textured surface and sturdy construction.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 20/34: book
📝 Generated query: 'contemporary modern wood and fabric light brown and dark gre...')
🛒 SerpAPI: Starting product search for query: 'A contemporary wooden coffee table with a light brown top and dark grey fabric sides, featuring a sleek and minimalist design.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 21/34: cabinet
⏸️ Pausing briefly after 20 objects to avoid rate limiting...
📝 Generated query: 'contemporary modern wood and rattan light brown cabinet...')
🛒 SerpAPI: Starting product search for query: 'A contemporary light brown wooden media console with rattan cabinet doors and open shelving, ideal for modern living spaces.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 22/34: plant
📝 Generated query: 'contemporary modern ceramic earthy brown plant...')
🛒 SerpAPI: Starting product search for query: 'A contemporary ceramic vase in earthy brown, featuring a smooth finish and filled with lush green foliage.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 23/34: mirror
📝 Generated query: 'traditional classic solid wood dark brown mirror...')
🛒 SerpAPI: Starting product search for query: 'A traditional oval wall mirror with a dark brown wooden frame, suitable for classic and elegant interior decor.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 24/34: rug
📝 Generated query: 'bohemian rattan natural brown rug...')
🛒 SerpAPI: Starting product search for query: 'A contemporary bohemian round rattan coffee table with a natural brown finish and intricate lattice design, perfect for adding texture to a living space.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 25/34: lamp
📝 Generated query: 'bohemian woven rattan and fabric natural beige lamp...')
🛒 SerpAPI: Starting product search for query: 'A contemporary bohemian table lamp with a natural beige woven rattan base and a matching fabric shade, ideal for adding texture and warmth to any room.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 26/34: cushion
⏸️ Pausing briefly after 25 objects to avoid rate limiting...
📝 Generated query: 'contemporary modern upholstered fabric beige and teal cushio...')
🛒 SerpAPI: Starting product search for query: 'A contemporary beige sofa with a geometric teal and beige patterned cushion, ideal for modern living spaces.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 27/34: coffee
📝 Generated query: 'bohemian rattan natural brown coffee...')
🛒 SerpAPI: Starting product search for query: 'A contemporary bohemian round coffee table made of natural brown rattan with an open lattice design and a solid woven top.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 28/34: flower
📝 Generated query: 'contemporary modern ceramic brown flower...')
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR: Your account has run out of searches.
ERROR:new_product_matcher:SerpAPI ERROR (Text Search): Your account has run out of searches.
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
WARNING:session_tracker:Failed to track product view: 'str' object has no attribute 'get'
🛒 SerpAPI: Starting product search for query: 'A contemporary brown ceramic vase with a textured surface, complemented by green foliage, ideal for modern interior decor.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 29/34: television
📝 Generated query: 'modern metal and glass black television...')
🛒 SerpAPI: Starting product search for query: 'A contemporary black flat-screen television with a sleek metal frame and glass screen, ideal for modern living spaces.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 30/34: bottle
📝 Generated query: 'rustic reclaimed wood warm brown bottle...')
🛒 SerpAPI: Starting product search for query: 'A rustic contemporary table crafted from warm brown reclaimed wood, featuring a natural finish and visible grain patterns.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 31/34: pot
⏸️ Pausing briefly after 30 objects to avoid rate limiting...
📝 Generated query: 'rustic solid wood brown pot...')
🛒 SerpAPI: Starting product search for query: 'A rustic wooden furniture piece with a brown finish, featuring a curved design and natural texture.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 32/34: blanket
📝 Generated query: 'contemporary modern upholstered fabric beige and teal blanke...')
🛒 SerpAPI: Starting product search for query: 'A contemporary beige fabric sofa with a textured teal throw blanket draped over the back, adding a cozy and modern touch.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 33/34: tray
📝 Generated query: 'rustic solid wood natural brown tray...')
🛒 SerpAPI: Starting product search for query: 'A rustic wooden bowl with a natural brown finish, showcasing a handcrafted aesthetic and organic shape.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🔍 Processing object 34/34: plate
📝 Generated query: 'contemporary modern solid wood warm brown plate...')
🛒 SerpAPI: Starting product search for query: 'A contemporary wooden bowl with a warm brown finish, featuring a smooth, rounded design ideal for modern decor.'
🌐 Making API call to SerpAPI...
✅ SerpAPI response received with keys: ['error']
❌ SerpAPI ERROR: Your account has run out of searches.
🎯 PRODUCT SEARCH COMPLETE! Found results for 34 objects
📊 Search results summary:
   Object combined_0: 204 products found
   Object combined_1: 204 products found
   Object combined_2: 204 products found
   Object combined_3: 204 products found
   Object combined_4: 204 products found
   Object combined_5: 204 products found
   Object combined_6: 204 products found
   Object combined_7: 204 products found
   Object combined_8: 204 products found
   Object combined_9: 204 products found
   Object combined_10: 204 products found
   Object combined_11: 204 products found
   Object combined_12: 204 products found
   Object combined_13: 204 products found
   Object combined_14: 204 products found
   Object combined_15: 204 products found
   Object combined_16: 204 products found
   Object combined_17: 204 products found
   Object combined_18: 204 products found
   Object combined_19: 204 products found
   Object combined_28: 204 products found
   Object combined_30: 204 products found
   Object combined_31: 204 products found
   Object combined_32: 204 products found
   Object combined_33: 204 products found
   Object combined_34: 204 products found
   Object combined_37: 204 products found
   Object combined_38: 204 products found
   Object combined_39: 204 products found
   Object combined_40: 204 products found
   Object combined_41: 204 products found
   Object combined_42: 204 products found
   Object combined_43: 204 products found
   Object combined_44: 204 products found
🎨 Enhancing results with style compatibility scoring...
✅ Style scoring applied to search results
✅ Results stored in session state
🔄 Refreshing UI...
🏁 Product search process finished
============================================================

🔍 Component returned data: <class 'streamlit.delta_generator.DeltaGenerator'>
📊 Raw selected_data: DeltaGenerator(_provided_cursor=LockedCursor(_index=6, _parent_path=(), _props={'delta_type': 'iframe', 'add_rows_metadata': None}), _parent=DeltaGenerator(), _form_data=FormData(form_id=''))
⚠️ No selection data received from component
📊 UI State - Selected objects: 34
✅ Showing Find Products button...
  Stopping...
